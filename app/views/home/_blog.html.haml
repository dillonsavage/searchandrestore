- posted_at = Time.at(blog_post['timestamp'].to_i).strftime('%-m/%-d/%Y')
- case blog_post['type']
  - when 'photo'
    - post_text = strip_tags(blog_post['caption'])
  - when 'quote'
    - post_text = strip_tags(blog_post['text'])
  - when 'video'
    -# todo
  -# text post: optional title, required body
  - when 'text'
    - if blog_post['text'].present?
      - post_text = blog_post['title']
    - else
      -# todo: truncate
      - post_text = blog_post['body']
- if defined? post_text
  - post_link = link_to(truncate(post_text, :length => 70, :separator => ' '), blog_post['post_url'])

.blog-post        
  %span.post-date= posted_at
  %span.post-link= post_link unless !defined? post_link
